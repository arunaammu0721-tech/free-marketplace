<!DOCTYPE html>
<html>
<head>
    <title>Upload Product</title>
</head>
<body>

<h2>Upload Product</h2>

<input type="text" id="name" placeholder="Product Name">
<br><br>

<input type="text" id="price" placeholder="Price">
<br><br>

<textarea id="description" placeholder="Description"></textarea>
<br><br>

<input type="file" id="image" accept="image/*">
<br><br>

<button onclick="addProduct()">Submit</button>

<script>
function addProduct() {

    var name = document.getElementById("name").value;
    var price = document.getElementById("price").value;
    var description = document.getElementById("description").value;
    var imageInput = document.getElementById("image");

    if(name === "" || price === "" || description === "") {
        alert("Fill all details");
        return;
    }

    var reader = new FileReader();

    reader.onload = function() {

        var imageData = reader.result;

        var products = JSON.parse(localStorage.getItem("products")) || [];

        products.push({
            name: name,
            price: price,
            description: description,
            image: imageData
        });

        localStorage.setItem("products", JSON.stringify(products));

        window.location.href = "products.html";
    };

    if(imageInput.files[0]) {
        reader.readAsDataURL(imageInput.files[0]);
    } else {
        alert("Please select image");
    }
}
</script>

</body>
</html>

